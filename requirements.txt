# ===================================
# A股自选股智能分析系统 - 依赖列表
# ===================================
#
# ⚠️ Python 版本要求：Python 3.9 或更高版本
#
# 原因：akshare 当前所有可用版本都需要 aiohttp>=3.11.13，
#       而 aiohttp>=3.11.13 需要 Python 3.9+
#
# 如果使用 Python 3.8，请升级 Python 版本：
#   conda create -n stock_analysis python=3.10
#   conda activate stock_analysis
#   pip install -r requirements.txt
#

# 核心依赖
python-dotenv>=1.0.0        # 环境变量配置管理
tenacity>=8.2.0             # 重试机制（指数退避）
sqlalchemy>=2.0.0           # ORM数据库操作
schedule>=1.2.0             # 定时任务调度

# 数据源依赖（多源策略，按优先级排序）
efinance>=0.5.5             # Priority 0: 东方财富数据源（最高优先级）https://github.com/Micro-sheep/efinance
# ⚠️ 重要：本项目需要 Python 3.9 或更高版本
# akshare>=1.16.72 需要 aiohttp>=3.11.13，而 aiohttp>=3.11.13 需要 Python 3.9+
# 如果使用 Python 3.8，请升级到 Python 3.9+：
#   conda create -n stock_analysis python=3.10
#   conda activate stock_analysis
akshare>=1.12.0             # Priority 1: 东方财富爬虫数据源（需要 Python 3.9+）
tushare>=1.4.0              # Priority 2: 挖地兔 Pro API
baostock>=0.8.0             # Priority 3: 证券宝数据
yfinance>=0.2.0             # Priority 4: Yahoo Finance (Fallback)

#飞书
lark-oapi>=1.0.0             # 飞书API

# 数据处理
pandas>=2.0.0               # 数据分析
numpy>=1.24.0               # 数值计算

# AI 分析
# 注意：google-generativeai 已被弃用（2025年11月30日停止支持），但当前代码仍在使用
# 如果安装失败，请尝试：pip install google-generativeai（不指定版本）
# 或升级到 Python 3.9+ 以获得更好的兼容性
google-generativeai  # Gemini API（不指定版本以兼容更多环境）
openai>=1.0.0               # OpenAI 兼容 API（可选，支持 DeepSeek/通义千问等）

# 搜索引擎（用于获取股票新闻）
tavily-python>=0.3.0        # Tavily 搜索 API（每月 1000 次免费）
google-search-results>=2.4.0  # SerpAPI（每月 100 次免费）

# 网络请求
requests>=2.31.0            # HTTP 请求
# 注意：aiohttp 版本由 akshare 自动管理
# Python 3.8 最高支持 aiohttp 3.10.11，不支持 3.11.13+
# 如果使用 Python 3.8，akshare 会自动安装兼容的 aiohttp 版本
# 建议升级到 Python 3.9+ 以获得更好的兼容性
fake-useragent>=1.4.0       # 随机 User-Agent 防封禁
httpx[socks]                # HTTP 客户端 + SOCKS 代理支持（OpenAI 可选依赖）

# Web 服务（飞书机器人事件订阅）
flask>=2.3.0                # HTTP 服务器（用于接收飞书事件回调）

# 数据库
# SQLite 是 Python 内置，无需额外安装
